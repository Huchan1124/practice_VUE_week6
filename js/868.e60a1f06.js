"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[868],{7868:function(t,i,e){e.r(i),e.d(i,{default:function(){return L}});var s=e(3396),d=e(7139),n=e(9242);const l=(0,s._)("h1",null,"產品列表",-1),o={class:"container"},a={class:"mt-4"},r={class:"table align-middle"},c=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"圖片"),(0,s._)("th",null,"商品名稱"),(0,s._)("th",null,"價格"),(0,s._)("th")])],-1),u={style:{width:"200px"}},h={key:0,class:"h5"},p={key:1},g={class:"h6"},_={class:"h5"},b={class:"btn-group btn-group-sm"},k=(0,s.Uk)("查看更多"),w=["onClick","disabled"],m={class:"spinner-border spinner-border-sm"},v=(0,s.Uk)(" 加到購物車 ");function y(t,i,e,y,I,f){const C=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l,(0,s._)("div",o,[(0,s._)("div",a,[(0,s._)("table",r,[c,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",u,[(0,s._)("div",{style:(0,d.j5)([{backgroundImage:`url(${t.imageUrl})`},{height:"100px","background-size":"cover","background-position":"center center"}])},null,4)]),(0,s._)("td",null,(0,d.zw)(t.title),1),(0,s._)("td",null,[t.origin_price==t.price?((0,s.wg)(),(0,s.iD)("div",h,(0,d.zw)(t.price)+" 元 ",1)):((0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("del",g,"原價 "+(0,d.zw)(t.origin_price)+" 元",1),(0,s._)("div",_,"特價 "+(0,d.zw)(t.price)+" 元",1)]))]),(0,s._)("td",null,[(0,s._)("div",b,[(0,s.Wm)(C,{class:"btn btn-outline-secondary",disabled:I.isLoadingItem==t.id,to:`/product/${t.id}`},{default:(0,s.w5)((()=>[k])),_:2},1032,["disabled","to"]),(0,s._)("button",{type:"button",class:"btn btn-danger",onClick:i=>f.addToCart(t.id),disabled:I.isLoadingItem==t.id},[(0,s.wy)((0,s._)("span",m,null,512),[[n.F8,I.isLoadingItem==t.id]]),v],8,w)])])])))),128))])])])])],64)}var I={data(){return{products:[],productId:"",isLoadingItem:""}},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/alicia/products/all").then((t=>{this.products=t.data.products})).catch((t=>{console.dir(t)}))},addToCart(t,i=1){const e={data:{product_id:t,qty:i}};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/alicia/cart",e).then((t=>{this.isLoadingItem="",this.$router.push("/cart")})).catch((t=>{console.dir(t)}))}},mounted(){this.getProducts()}},f=e(89);const C=(0,f.Z)(I,[["render",y]]);var L=C}}]);
//# sourceMappingURL=868.e60a1f06.js.map